{
  "createdAt": "2025-08-13T14:02:07.328Z",
  "updatedAt": "2025-08-13T17:35:16.000Z",
  "id": "oZACRkwG4MJKsAZS",
  "name": "Week 3 | Multi Agent Clean",
  "active": false,
  "isArchived": true,
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        48,
        0
      ],
      "id": "779219c4-ffa7-452b-ba80-44e19777192b",
      "name": "When chat message received",
      "webhookId": "d40c9acc-68e4-44b2-8117-134f7079da59"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        384,
        96
      ],
      "id": "2d18a283-d00b-4605-91fa-d462150dde56",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "toolDescription": "AI Agent that can call and retrieve spreadsheets from Google Sheets",
        "text": "=AI Agent that can call and retrieve spreadsheets from _Sheets Tool\n\n{{ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        -272,
        272
      ],
      "id": "377b8c56-de08-49dc-be43-6f1c9d453593",
      "name": "Retrieval Tool"
    },
    {
      "parameters": {
        "toolDescription": "AI Agent that can interpolate data and create from tools",
        "text": "={{ $fromAI('Prompt__User_Message_', ``, 'string') }}\n\n“Format the email body with line breaks and clear labels for each field. Do not use commas to separate fields.”",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        752,
        272
      ],
      "id": "45398fec-9d84-4048-97f4-5d61cd0fb631",
      "name": "Creation Tool"
    },
    {
      "parameters": {
        "description": "Call this tool to read, create, send and manage emails",
        "workflowId": {
          "__rl": true,
          "value": "Y7gTBJu43jpJXXMh",
          "mode": "list",
          "cachedResultName": "_Email Agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        880,
        528
      ],
      "id": "8eed1d5a-155f-4559-880e-b27122295e36",
      "name": "_Email Tool",
      "disabled": true
    },
    {
      "parameters": {
        "model": "google/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        752,
        352
      ],
      "id": "39908c94-fa98-498b-92c0-a1592e4da5f9",
      "name": "OR - Creation gFlashLite",
      "credentials": {
        "openRouterApi": {
          "id": "jQR7uGa0YGZ17Ov7",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "model": "google/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        256,
        96
      ],
      "id": "6341afea-8f78-4684-a5dc-5d7254bf3d64",
      "name": "OR - Operator gFlashLite",
      "credentials": {
        "openRouterApi": {
          "id": "jQR7uGa0YGZ17Ov7",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "model": "google/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -272,
        352
      ],
      "id": "58fc5996-d01a-43a3-ad26-ac18ab45a9f2",
      "name": "OR - Retrieval gFlashLite",
      "credentials": {
        "openRouterApi": {
          "id": "jQR7uGa0YGZ17Ov7",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "11GuM4l5CekaZy9_RNmsEdxZ3mru88QIR4J06Ihjr8x8",
          "mode": "list",
          "cachedResultName": "Analytics dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/11GuM4l5CekaZy9_RNmsEdxZ3mru88QIR4J06Ihjr8x8/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1882856635,
          "mode": "list",
          "cachedResultName": "NightlySummary",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/11GuM4l5CekaZy9_RNmsEdxZ3mru88QIR4J06Ihjr8x8/edit#gid=1882856635"
        },
        "options": {
          "dataLocationOnSheet": {
            "values": {
              "rangeDefinition": "detectAutomatically",
              "readRowsUntil": "firstEmptyRow"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        -144,
        352
      ],
      "id": "4c9a17c5-430d-4686-8919-a4ca635c52aa",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kOeJv9ACT74Bk3jB",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"fields\": {\n      \"type\": \"object\",\n      \"description\": \"A key-value mapping of all columns and their values from the spreadsheet row. The keys are the column names, and the values are their corresponding cell values. All values should be strings or arrays of strings for multi-value fields.\"\n    }\n  },\n  \"required\": [\"fields\"]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        16,
        272
      ],
      "id": "a97d5603-79fe-417a-98ca-3a34983e4281",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ $fromAI('Message', ``, 'string') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1008,
        528
      ],
      "id": "3a2c2bb1-7fb3-4bbd-8393-f14448f37db6",
      "name": "Send a message in Gmail",
      "webhookId": "2cf58110-4a7b-4bda-bd35-58db6cd08b1b",
      "credentials": {
        "gmailOAuth2": {
          "id": "bQvnHcTvkeJSh8m2",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are an orchestrator agent. Your only job is to delegate the task to the correct tool. ",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        256,
        0
      ],
      "id": "bd89d642-9be8-4c07-9de8-e68e93ee4a55",
      "name": "Operator Agent"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Operator Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Operator Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Retrieval Tool": {
      "ai_tool": [
        [
          {
            "node": "Operator Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Creation Tool": {
      "ai_tool": [
        [
          {
            "node": "Operator Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "_Email Tool": {
      "ai_tool": [
        [
          {
            "node": "Creation Tool",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OR - Creation gFlashLite": {
      "ai_languageModel": [
        [
          {
            "node": "Creation Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OR - Operator gFlashLite": {
      "ai_languageModel": [
        [
          {
            "node": "Operator Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OR - Retrieval gFlashLite": {
      "ai_languageModel": [
        [
          {
            "node": "Retrieval Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "Retrieval Tool",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Retrieval Tool",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "Creation Tool",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "1454ee51-d13f-4fe1-a0a8-b42e6b0ad7ea",
  "triggerCount": 0,
  "tags": []
}